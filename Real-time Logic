async function fetchPrices() {
    const tableBody = document.getElementById('crypto-table-body');
    tableBody.innerHTML = "<tr><td colspan='3'>Loading prices...</td></tr>";

    try {
        const response = await fetch('https://api.coingecko.com/api/v3/simple/price?ids=bitcoin,ethereum,binancecoin,cardano,solana&vs_currencies=usd&include_24hr_change=true');
        const data = await response.json();

        tableBody.innerHTML = ""; // Clear loading text

        for (const coin in data) {
            const price = data[coin].usd;
            const change = data[coin].usd_24h_change.toFixed(2);
            const colorClass = change >= 0 ? 'green' : 'red';

            tableBody.innerHTML += `
                <tr>
                    <td style="text-transform: capitalize;"><strong>${coin}</strong></td>
                    <td>$${price.toLocaleString()}</td>
                    <td class="${colorClass}">${change}%</td>
                </tr>
            `;
        }
    } catch (error) {
        tableBody.innerHTML = "<tr><td colspan='3'>Error fetching data. Try again later.</td></tr>";
    }
}

// Page load hote hi prices fetch karein
fetchPrices();
// Har 60 seconds mein auto-update
setInterval(fetchPrices, 60000);
